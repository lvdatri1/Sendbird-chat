(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){e.exports=n(24)},17:function(e,t,n){},19:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),o=n(8),l=n.n(o),i=(n(17),n(10)),c=n(2),r=n(3),h=n(5),u=n(4),d=n(6),m=n(1),g=(n(19),n(9)),v=function(e){function t(){return Object(c.a)(this,t),Object(h.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.darker,n=e.message,a=e.timeReceived,o=e.imgSource,l="container";return t&&(l="darker container"),s.a.createElement("div",{className:l},s.a.createElement("img",{src:o,alt:"Avatar",className:t?"right":null}),s.a.createElement("p",{className:t?"p-right":null},n),s.a.createElement("span",{className:t?"time-left":"time-right"},a))}}]),t}(a.Component),b="D0040096-E173-4232-A941-40ACA136FDF7",C=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(h.a)(this,Object(u.a)(t).call(this,e))).state={txtName:"conkhi",txtChatID:"xyz123",txtChannel:"1",avatar:"https://via.placeholder.com/150",txtMessage:"",openC:null,sb:new g({appId:b}),messageList:[]},n.onJoinAction=n.onJoinAction.bind(Object(m.a)(Object(m.a)(n))),n.onJoinChannelAction=n.onJoinChannelAction.bind(Object(m.a)(Object(m.a)(n))),n.onSendMessage=n.onSendMessage.bind(Object(m.a)(Object(m.a)(n))),n.onHandleChangeMessage=n.onHandleChangeMessage.bind(Object(m.a)(Object(m.a)(n))),n.onHandleChatID=n.onHandleChatID.bind(Object(m.a)(Object(m.a)(n))),n.onHandleName=n.onHandleName.bind(Object(m.a)(Object(m.a)(n))),n.onHandleChangeChannel=n.onHandleChangeChannel.bind(Object(m.a)(Object(m.a)(n))),n}return Object(d.a)(t,e),Object(r.a)(t,[{key:"onHandleChangeMessage",value:function(e){this.setState({txtMessage:e.target.value})}},{key:"onHandleChatID",value:function(e){this.setState({txtChatID:e.target.value})}},{key:"onHandleChangeChannel",value:function(e){this.setState({txtChannel:e.target.value})}},{key:"onHandleName",value:function(e){this.setState({txtName:e.target.value})}},{key:"onJoinChannelAction",value:function(){var e=this;this.state.sb.OpenChannel.getChannel("sendbird_open_channel_47637_cfac949ab329445335b69011724fac6549a9919d",function(t,n){if(!n){e.setState({openC:t}),t.enter(function(e,t){t||console.log("channeld are in",e)});var a=t.createPreviousMessageListQuery();a.limit=30,a.reverse=!0,a.load(function(t,n){n?alert(n):(console.log(t),e.setState({messageList:t}),console.log(e.state.messageList))})}})}},{key:"componentDidMount",value:function(){}},{key:"onSendMessage",value:function(){var e=this;this.state.openC.sendUserMessage(this.state.txtMessage,"DATA","CUSTOM_TYPE",function(t,n){if(!n){e.setState({txtMessage:""}),console.log(t);var a=e.state.openC.createPreviousMessageListQuery();a.limit=30,a.reverse=!0,a.load(function(t,n){n?alert(n):(console.log(t),e.setState({messageList:t}),console.log(e.state.messageList))})}})}},{key:"onJoinAction",value:function(){var e=this;this.state.sb.connect(this.state.txtChatID,function(t,n){n&&alert("error now"),console.log("our user is",t),e.setState({avatar:t.profileUrl});var a=new e.state.sb.ChannelHandler;a.onMessageReceived=function(t,n){console.log(t,n);var a=[n].concat(e.state.messageList);console.log(e.state.messageList),e.setState(Object(i.a)({},e.state,{messageList:a}))},e.state.sb.addChannelHandler("channel1",a)})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"App"},s.a.createElement("div",null," hello world",s.a.createElement("label",null,"chat ID:"),s.a.createElement("input",{type:"text",value:this.state.txtChatID,onChange:this.onHandleChatID}),s.a.createElement("label",null,"name:"),s.a.createElement("input",{type:"text",value:this.state.txtName,onChange:this.onHandleName}),s.a.createElement("button",{onClick:this.onJoinAction},"join"),s.a.createElement("div",null,s.a.createElement("label",null,"Channel:"),s.a.createElement("input",{type:"text",value:this.state.txtChannel,onChange:this.onHandleChangeChannel}),s.a.createElement("button",{onClick:this.onJoinChannelAction},"join channel")),s.a.createElement("div",null,s.a.createElement("label",null,"Message:"),s.a.createElement("input",{type:"text",value:this.state.txtMessage,onChange:this.onHandleChangeMessage,onKeyUp:function(t){13===t.keyCode&&e.onSendMessage()}}),s.a.createElement("button",{onClick:this.onSendMessage},"send message"))),s.a.createElement("p",null,s.a.createElement("img",{src:this.state.avatar,alt:"avatar"})),s.a.createElement("div",null,this.state.messageList.map(function(t,n){return s.a.createElement(v,{key:n,message:t.message,timeReceived:new Date(t.createdAt).toLocaleString("en-Us"),imgSource:t._sender.profileUrl,darker:t._sender.userId===e.state.txtChatID})})))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[11,2,1]]]);
//# sourceMappingURL=main.fa80cc1b.chunk.js.map